-- Counter Blox CHH Script (Femboy Edition)
-- Author: xAI Grok 3
-- Version: 1.0.0
-- Last Updated: August 16, 2025, 05:50 PM CEST
-- License: MIT

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local StarterGui = game:GetService("StarterGui")
local Camera = workspace.CurrentCamera
local LocalPlayer = Players.LocalPlayer
local Workspace = game:GetService("Workspace")

local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "FemboyCHH"
ScreenGui.Parent = LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.Enabled = true

-- Notification System
local function notifyMsg(msg, duration)
    pcall(function()
        StarterGui:SetCore("SendNotification", {
            Title = "Femboy CHH",
            Text = msg,
            Duration = duration or 3
        })
    end)
end

notifyMsg("Femboy CHH –∑–∞–≥—Ä—É–∂–µ–Ω! üíô", 3)

-- GUI Creation
local GuiFrame = Instance.new("Frame")
GuiFrame.Size = UDim2.new(0, 250, 0, 300)
GuiFrame.Position = UDim2.new(0.85, -125, 0.5, -150)
GuiFrame.BackgroundColor3 = Color3.fromRGB(135, 206, 235) -- –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ñ–æ–Ω
GuiFrame.BorderSizePixel = 0
GuiFrame.BackgroundTransparency = 0.2
GuiFrame.Parent = ScreenGui
GuiFrame.Visible = true
GuiFrame.Active = true
GuiFrame.Draggable = true

local UiCorner = Instance.new("UICorner")
UiCorner.CornerRadius = UDim.new(0, 15)
UiCorner.Parent = GuiFrame

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, 0, 0, 50)
Title.BackgroundTransparency = 1
Title.Text = "Femboy CHH Menu üíï"
Title.TextColor3 = Color3.fromRGB(173, 216, 230) -- –°–≤–µ—Ç–ª–æ-–≥–æ–ª—É–±–æ–π —Ç–µ–∫—Å—Ç
Title.Font = Enum.Font.GothamBold
Title.TextSize = 18
Title.Parent = GuiFrame

local ButtonLayout = Instance.new("UIListLayout")
ButtonLayout.Padding = UDim.new(0, 10)
ButtonLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
ButtonLayout.Parent = GuiFrame

local function createButton(text, action)
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(0, 200, 0, 45)
    Button.BackgroundColor3 = Color3.fromRGB(176, 224, 230) -- –ì–æ–ª—É–±–∞—è –∫–Ω–æ–ø–∫–∞
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(255, 245, 238) -- –†–æ–∑–æ–≤–∞—Ç—ã–π —Ç–µ–∫—Å—Ç
    Button.Font = Enum.Font.Gotham
    Button.TextSize = 14
    Button.Parent = GuiFrame
    Button.MouseButton1Click:Connect(action)
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 10)
    ButtonCorner.Parent = Button
    return Button
end

-- State Variables
local isAimbotOn = false
local isESPOn = false
local isVisible = true

-- Toggle GUI
UserInputService.InputBegan:Connect(function(input, gameProcessed)
    if gameProcessed then return end
    if input.KeyCode == Enum.KeyCode.RightControl then
        isVisible = not isVisible
        GuiFrame.Visible = isVisible
        notifyMsg("Femboy Menu: " .. (isVisible and "–û—Ç–∫—Ä—ã—Ç üíô" or "–ó–∞–∫—Ä—ã—Ç"), 2)
    end
end)

-- Aimbot Function
local function toggleAimbot()
    isAimbotOn = not isAimbotOn
    notifyMsg("Aimbot: " .. (isAimbotOn and "–í–∫–ª—é—á—ë–Ω üíï" or "–í—ã–∫–ª—é—á—ë–Ω"), 2)
    if isAimbotOn then
        RunService.RenderStepped:Connect(function()
            if isAimbotOn then
                local target = nil
                local minDistance = math.huge
                for _, player in ipairs(Players:GetPlayers()) do
                    if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("Head") and player.Team ~= LocalPlayer.Team then
                        local head = player.Character.Head
                        local screenPos, onScreen = Camera:WorldToViewportPoint(head.Position)
                        local distance = (Vector2.new(screenPos.X, screenPos.Y) - Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)).Magnitude
                        if onScreen and distance < minDistance then
                            minDistance = distance
                            target = head
                        end
                    end
                end
                if target then
                    Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Position)
                end
            end
        end)
    end
end

-- ESP Function
local espDrawings = {}
local function toggleESP()
    isESPOn = not isESPOn
    notifyMsg("ESP: " .. (isESPOn and "–í–∫–ª—é—á—ë–Ω üíô" or "–í—ã–∫–ª—é—á—ë–Ω"), 2)
    if not isESPOn then
        for _, drawing in pairs(espDrawings) do
            drawing:Remove()
        end
        espDrawings = {}
    else
        for _, player in ipairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local box = Drawing.new("Square")
                box.Thickness = 2
                box.Color = Color3.fromRGB(135, 206, 235) -- –ì–æ–ª—É–±–æ–π –∫–æ–Ω—Ç—É—Ä
                box.Filled = false
                espDrawings[player] = box
                player.CharacterRemoving:Connect(function()
                    if espDrawings[player] then
                        espDrawings[player]:Remove()
                        espDrawings[player] = nil
                    end
                end)
            end
        end
    end
end

-- Update ESP
RunService.RenderStepped:Connect(function()
    if isESPOn then
        for player, box in pairs(espDrawings) do
            if player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
                local root = player.Character.HumanoidRootPart
                local headPos, onScreen = Camera:WorldToViewportPoint(root.Position + Vector3.new(0, 3, 0))
                local footPos = Camera:WorldToViewportPoint(root.Position - Vector3.new(0, 3, 0))
                if onScreen then
                    box.Visible = true
                    box.Size = Vector2.new(2000 / headPos.Z, footPos.Y - headPos.Y)
                    box.Position = Vector2.new(headPos.X - box.Size.X / 2, headPos.Y)
                else
                    box.Visible = false
                end
            end
        end
    end
end)

-- Buttons
createButton("Toggle Aimbot üíô", toggleAimbot)
createButton("Toggle ESP üíï", toggleESP)
createButton("Close Menu", function() GuiFrame.Visible = false; notifyMsg("Femboy Menu –∑–∞–∫—Ä—ã—Ç üíô", 2) end)

-- Initial Setup
Players.PlayerAdded:Connect(function(player)
    if isESPOn and player ~= LocalPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
        local box = Drawing.new("Square")
        box.Thickness = 2
        box.Color = Color3.fromRGB(135, 206, 235)
        box.Filled = false
        espDrawings[player] = box
        player.CharacterRemoving:Connect(function()
            if espDrawings[player] then
                espDrawings[player]:Remove()
                espDrawings[player] = nil
            end
        end)
    end
end)
